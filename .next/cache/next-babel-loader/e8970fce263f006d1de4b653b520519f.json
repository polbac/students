{"ast":null,"code":"import { createResponse, createErrorResponse } from \"../../../utils/httpBuilderResponse\";\nimport { Country } from \"../../../database/entity/Country\";\nimport getConnection from '../../../connection';\nexport default (async (req, res) => {\n  try {\n    console.log(getConnection);\n    const connection = await getConnection();\n    console.log(connection);\n    const countries = await connection.getRepository(Country);\n    console.log(countries);\n    createResponse(res, {\n      countries\n    });\n  } catch (err) {\n    console.log('err', err);\n    createErrorResponse(res);\n  }\n});","map":{"version":3,"sources":["/Users/TROCAUSER/dev/students/pages/api/country/index.ts"],"names":["createResponse","createErrorResponse","Country","getConnection","req","res","console","log","connection","countries","getRepository","err"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,mBAAzB,QAAoD,oCAApD;AAEA,SAASC,OAAT,QAAwB,kCAAxB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AAGA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,MAAI;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,aAAZ;AACA,UAAMK,UAAU,GAAG,MAAML,aAAa,EAAtC;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYC,UAAZ;AACA,UAAMC,SAAS,GAAG,MAAMD,UAAU,CAACE,aAAX,CAAyBR,OAAzB,CAAxB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYE,SAAZ;AACAT,IAAAA,cAAc,CAACK,GAAD,EAAM;AAChBI,MAAAA;AADgB,KAAN,CAAd;AAGH,GATD,CASE,OAAME,GAAN,EAAW;AACTL,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBI,GAAnB;AACAV,IAAAA,mBAAmB,CAACI,GAAD,CAAnB;AACH;AAEJ,CAfD","sourcesContent":["import { createResponse, createErrorResponse } from \"../../../utils/httpBuilderResponse\"\nimport {getManager, Connection} from \"typeorm\"\nimport { Country } from \"../../../database/entity/Country\"\nimport getConnection from '../../../connection'\n\n\nexport default async (req, res) => {\n    try {        \n        console.log(getConnection)\n        const connection = await getConnection()\n        console.log(connection)\n        const countries = await connection.getRepository(Country);\n        console.log(countries)\n        createResponse(res, {\n            countries,\n        })\n    } catch(err) {\n        console.log('err', err)\n        createErrorResponse(res)\n    }\n  \n}"]},"metadata":{},"sourceType":"module"}